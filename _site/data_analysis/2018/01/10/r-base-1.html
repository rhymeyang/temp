


    



<!-- Include Data Base --> <!DOCTYPE html> <html lang="en" itemscope itemtype="http://schema.org/WebPage"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>R 数据结构 | Vicky's Blog </title> <meta name=description content=""> <meta name="robots" content="index, follow"> <meta name=viewport content="width=device-width, initial-scale=1"> <meta http-equiv="cache-control" content="public"/> <meta http-equiv="pragma" content="public"> <meta name="keywords" content="Theme, Jekyll" /> <meta name="author" content="" /> <meta property="og:locale" content="en" /> <meta property="og:site_name" content="Vicky's Blog" /> <meta property="og:type" content="WebSite" /> <meta property="og:url" content="http://www.forbackup.tk/data_analysis/2018/01/10/r-base-1.html" /> <meta property="og:description" content="" /> <meta property="og:title" content="R 数据结构 - Vicky's Blog" /> <link rel="canonical" href="http://www.forbackup.tk/data_analysis/2018/01/10/r-base-1.html"> <link rel="alternate" type="application/rss+xml" title="Vicky's Blog" href="http://www.forbackup.tk/feed.xml"> <script type="application/ld+json"> {"@context": "http://schema.org", "@type": "WebSite", "name": "", "headline": "Vicky's Blog", "author": {"@type": "Person", "name": {"Vicky's Blog"}}, "description": "", "url": "http://www.forbackup.tk"} </script> <script type="text/javascript"> var GLOBAL_BASEURL = "http://www.forbackup.tk"; </script> <link rel="icon" type="image/png" sizes="16x16" href="http://www.forbackup.tk/assets/img/favicon/favicon-16x16.png"> <!-- #### VENDOR OFFLINE #### --> <!-- Bootstrap 3.3.6 - Offline --> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/bootstrap/css/bootstrap.min.css"> <!-- Font Awesome 5.03 - Offline --> <script defer src="http://www.forbackup.tk/assets/vendor-off/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css"></script> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/fonts/space-mono/space-mono.min.css"> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/fonts/gloria-hallelujah/gloria-hallelujah.min.css"> <!-- Style Default --> <link rel="stylesheet" href="http://www.forbackup.tk/assets/stylesheets/main.css"> <!-- Google Analytics --> </head> <body> <div class="main" id="top"> <div class="container wrapper"> <div class="row"> <div class="col-sm-3 sidebar"> <div class="row avatar"> <a href="http://www.forbackup.tk/"> <img class="img-responsive center-block avatar-img" src="http://www.forbackup.tk/assets/img/avatar/blog.svg" height="165" width="165" alt="Vicky's Blog"> </a> </div> <div class="row header"> <h2><a href="http://www.forbackup.tk/">Vicky </a></h2> </div> <div class="row menu"> <ul> <li> <i class="fa fa-home" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/">Home</a> </li> <hr class="breakline"> <li class="li-folder-open"> <i style="font-size: ;" class="fas fa-folder-open"></i>&nbsp;<a class="unlink">Blog</a> </li> <li class="li-fa-edit"> <i style="font-size: ;" class="fas fa-edit" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/general/" >General</a> </li> <li class="li-fa-docker"> <i style="font-size: ;" class="fab fa-docker" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/docker_col/" >Docker</a> </li> <li class="li-fa-table"> <i style="font-size: ;" class="fas fa-table" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/data_analysis/" >Data Analysis</a> </li> <li class="li-fa-tags"> <i style="font-size: ;" class="fas fa-tags" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/blog/tags/" >Tags</a> </li> <li class="li-fa-briefcase"> <i style="font-size: ;" class="fas fa-briefcase" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/blog/projects/" >Projects</a> </li> </ul> <div class="socials"> <div class="row"> <p></p> <p></p> </div> </div> </div> </div> <div class="col-sm-9 content-main"> <!-- Include Data Base --> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <!-- Next Version <div class="readmode"> <a id="btn-readmode" class="pull-right btn btn-default btn-readmode" href="">Read Mode</a> </div> --> <div class="row title"> <h1>R 数据结构</h1> </div> <div class="row meta" datetime="2018-01-10"> <time class="col-sm-6 datetime"> <i class="fa fa-calendar" aria-hidden="true"></i> <span class="text tmargin ">January 10, 2018</span> </time> </div> <div class="row tag-list"> <i class="fa fa-tags" aria-hidden="true"></i> <a href="http://www.forbackup.tk/blog/tags//r">r</a> <a href="http://www.forbackup.tk/blog/tags//data_analysis">data_analysis</a> </div> <!-- <div class="row"> <ul id="markdown-toc"> <li><a href="#小结" id="markdown-toc-小结">小结</a></li> <li><a href="#对象基本类型" id="markdown-toc-对象基本类型">对象基本类型</a></li> <li><a href="#对象属性" id="markdown-toc-对象属性">对象属性</a></li> <li><a href="#向量" id="markdown-toc-向量">向量</a></li> <li><a href="#矩阵-和-数组" id="markdown-toc-矩阵-和-数组">矩阵 和 数组</a></li> <li><a href="#列表" id="markdown-toc-列表">列表</a></li> <li><a href="#因子" id="markdown-toc-因子">因子</a></li> <li><a href="#缺失值" id="markdown-toc-缺失值">缺失值</a></li> <li><a href="#数据框" id="markdown-toc-数据框">数据框</a></li> <li><a href="#日期与时间" id="markdown-toc-日期与时间">日期与时间</a></li> <li><a href="#相关资源" id="markdown-toc-相关资源">相关资源</a></li> </ul> <h2 id="小结">小结</h2> <ul> <li>5种对象类型 <ul> <li><code class="highlighter-rouge">character</code>, <code class="highlighter-rouge">numeric</code>, <code class="highlighter-rouge">integer</code>, <code class="highlighter-rouge">complex</code>, <code class="highlighter-rouge">logical</code></li> </ul> </li> <li>向量 <ul> <li>+2维度 - 矩阵</li> <li>+&gt;维度 - 数组</li> <li>+不同类型 - 列表 - +元素长度相同 - 数据框 - data.matrix() - 矩阵</li> <li>整数+标签 - 因子</li> </ul> </li> <li>日期/时间</li> </ul> <h2 id="对象基本类型">对象基本类型</h2> <p>对象的5种基本类型(classes of objects)</p> <ul> <li>字符(character)</li> <li>数值(numeric: real numbers)</li> <li>整数(integer)</li> <li>复数(complex: 1+2i)</li> <li>逻辑(logical: TRUE/FALSE)</li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"numeric"</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1L</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"hello"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"character"</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2i</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"complex"</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">TRUE</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"logical"</span></code></pre></figure> <h2 id="对象属性">对象属性</h2> <ul> <li>属性(attribute) <ul> <li>名称(name)</li> <li>维度(dimensions: matrix, array)</li> <li>类型(class)</li> <li>长度(length)</li> </ul> </li> </ul> <h2 id="向量">向量</h2> <ul> <li>向量(vector) <ul> <li>只能包含 <strong>同一类型</strong> 的对象</li> <li>创建向量 <code class="highlighter-rouge">.vector()</code> <code class="highlighter-rouge">.c()</code> <code class="highlighter-rouge">.as.logical()</code>/<code class="highlighter-rouge">as.numeric()</code>/<code class="highlighter-rouge">as.character()</code></li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vector</span><span class="p">(</span><span class="s2">"character"</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="m">10</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w">
 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">1</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)</span><span class="w">  
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">4</span><span class="w">

</span><span class="c1"># 如果输入类型不一致，R会强制转换为一种类型</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="s2">"a"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">3</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"TRUE"</span><span class="w"> </span><span class="s2">"10"</span><span class="w">   </span><span class="s2">"a"</span><span class="w">   

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">4</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"a"</span><span class="w"> </span><span class="s2">"b"</span><span class="w"> </span><span class="s2">"c"</span><span class="w">

</span><span class="c1"># 强制转换</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">x</span><span class="m">4</span><span class="p">)</span><span class="w">    
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">NA</span><span class="w"> </span><span class="kc">NA</span><span class="w"> </span><span class="kc">NA</span><span class="w">
</span><span class="n">Warning</span><span class="w"> </span><span class="n">message</span><span class="o">:</span><span class="w">
</span><span class="err">强制改变过程中产生了</span><span class="kc">NA</span><span class="w"> 

</span><span class="nf">as.logical</span><span class="p">(</span><span class="n">..</span><span class="p">)</span><span class="w">
</span><span class="nf">as.character</span><span class="p">(</span><span class="n">..</span><span class="p">)</span><span class="w">

</span><span class="c1"># 获取类型</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">

</span><span class="c1"># 添加名称</span><span class="w">
</span><span class="nf">names</span><span class="p">(</span><span class="n">x</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">,</span><span class="w"> </span><span class="s2">"d"</span><span class="p">)</span></code></pre></figure> <h2 id="矩阵-和-数组">矩阵 和 数组</h2> <ul> <li>矩阵(<code class="highlighter-rouge">matrix</code>) <ul> <li>向量+维度属性（整数向量: <code class="highlighter-rouge">nrow</code>, <code class="highlighter-rouge">ncol</code>）</li> <li>创建矩阵 <ul> <li><code class="highlighter-rouge">matrix()</code>: 先列后行</li> <li><code class="highlighter-rouge">vector()</code>+<code class="highlighter-rouge">dim()</code></li> <li><code class="highlighter-rouge">cbind()</code>, <code class="highlighter-rouge">rbind()</code></li> <li><code class="highlighter-rouge">attributes()</code></li> </ul> </li> </ul> </li> </ul> <p>矩阵赋值</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">nclo</span><span class="w"> </span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">nclo</span><span class="w"> </span><span class="o">=</span><span class="m">2</span><span class="p">)</span></code></pre></figure> <p>矩阵填充时，列优先</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">dim</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c1"># 查看矩阵 行列</span></code></pre></figure> <p>查看矩阵属性</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">attributes</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">

</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="w">
</span><span class="nf">dim</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)</span></code></pre></figure> <p>矩阵拼接</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">y</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">

</span><span class="c1"># 行拼接</span><span class="w">
</span><span class="n">rbind</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="m">2</span><span class="p">)</span><span class="w">

</span><span class="c1"># 列拼接</span><span class="w">
</span><span class="n">cbind</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="m">3</span><span class="p">)</span></code></pre></figure> <ul> <li>数组(array) <ul> <li>与矩阵类型，但维度可以 大于2</li> <li>创建数组</li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">array</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">6</span><span class="p">))</span><span class="w">

</span><span class="n">x</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">array</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">))</span></code></pre></figure> <h2 id="列表">列表</h2> <ul> <li>列表（list） <ul> <li>可以包含 <strong>不同类型</strong> 对象</li> <li>创建列表 <code class="highlighter-rouge">list()</code></li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># list</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">10L</span><span class="p">,</span><span class="w">  </span><span class="m">3+4i</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="w">
</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"a"</span><span class="w">

</span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">2</span><span class="w">

</span><span class="p">[[</span><span class="m">3</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">10</span><span class="w">

</span><span class="p">[[</span><span class="m">4</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3+4i</span><span class="w">

</span><span class="p">[[</span><span class="m">5</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">TRUE</span><span class="w">

</span><span class="c1"># with name</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="nf">list</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="m">2</span><span class="w">
</span><span class="o">$</span><span class="n">a</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w">

</span><span class="o">$</span><span class="n">b</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">2</span><span class="w">

</span><span class="o">$</span><span class="n">c</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="m">3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">),</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">7</span><span class="p">))</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="m">3</span><span class="w">
</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w">

</span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">7</span><span class="w">

</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matric</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="nf">dimnames</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">),</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"c"</span><span class="p">,</span><span class="w"> </span><span class="s2">"d"</span><span class="p">,</span><span class="w"> </span><span class="s2">"e"</span><span class="p">))</span></code></pre></figure> <h2 id="因子">因子</h2> <ul> <li>因子(<code class="highlighter-rouge">factor</code>) <ul> <li>分类 数据/ 有序 vs 无序</li> <li>整数向量+标签（label）（优于整数向量） Male/Female vs. 1/2 常用于 <code class="highlighter-rouge">lm()</code>, <code class="highlighter-rouge">glm()</code></li> <li>创建因子 <code class="highlighter-rouge">factor()</code> <code class="highlighter-rouge">table()</code>/<code class="highlighter-rouge">unclass()</code></li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"female"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">))</span><span class="w">
</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"female"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">),</span><span class="w"> </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">))</span></code></pre></figure> <p>通过levels 设置factor中基线水平</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">table</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code></pre></figure> <p>去掉factor属性</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">unclass</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="nf">class</span><span class="p">(</span><span class="nf">unclass</span><span class="p">(</span><span class="n">x</span><span class="p">))</span></code></pre></figure> <h2 id="缺失值">缺失值</h2> <ul> <li>缺失值（missing value） <ul> <li>NA/NaN: NaN属于NA， NA不属于NaN NaN一般表示数字的缺失</li> <li>NA有类型属性： integer NA, character NA</li> <li><code class="highlighter-rouge">is.na()</code>/<code class="highlighter-rouge">is.nan()</code></li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.na</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.nan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kc">NaN</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NaN</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.na</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.nan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span></code></pre></figure> <h2 id="数据框">数据框</h2> <ul> <li>数据框(data frame) <ul> <li>存储表格数据(tabular data)</li> <li>视为各元素长度相同的 列表 <ul> <li>每个元素代表一列数据</li> <li>每个元素的长度代表行数</li> <li>元素类型可以不同</li> </ul> </li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">),</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">,</span><span class="w"> </span><span class="s1">'d'</span><span class="p">),</span><span class="w"> </span><span class="n">gender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nrow</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">4</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ncol</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">df2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">id</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">),</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">86</span><span class="p">,</span><span class="m">90</span><span class="p">,</span><span class="m">100</span><span class="p">))</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">df2</span><span class="w">
  </span><span class="n">id</span><span class="w"> </span><span class="n">score</span><span class="w">
</span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">    </span><span class="m">80</span><span class="w">
</span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">    </span><span class="m">86</span><span class="w">
</span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">    </span><span class="m">90</span><span class="w">
</span><span class="m">4</span><span class="w">  </span><span class="m">4</span><span class="w">   </span><span class="m">100</span><span class="w">


</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data.matrix</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span><span class="w">
     </span><span class="n">id</span><span class="w"> </span><span class="n">score</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">  </span><span class="m">1</span><span class="w">    </span><span class="m">80</span><span class="w">
</span><span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">  </span><span class="m">2</span><span class="w">    </span><span class="m">86</span><span class="w">
</span><span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w">  </span><span class="m">3</span><span class="w">    </span><span class="m">90</span><span class="w">
</span><span class="p">[</span><span class="m">4</span><span class="p">,]</span><span class="w">  </span><span class="m">4</span><span class="w">   </span><span class="m">100</span></code></pre></figure> <h2 id="日期与时间">日期与时间</h2> <ul> <li>日期与时间(date, time) <ul> <li>日期： Date <ul> <li>距离1970-01-01的天数/<code class="highlighter-rouge">date()</code>/<code class="highlighter-rouge">Sys.Date()</code></li> <li><code class="highlighter-rouge">weekdays()</code>/<code class="highlighter-rouge">months()</code>/<code class="highlighter-rouge">quarters()</code></li> </ul> </li> <li>时间：<code class="highlighter-rouge">POSIXct</code>/<code class="highlighter-rouge">POSIXlt</code> <ul> <li>距离1970-01-01的秒数/Sys.time()</li> <li><code class="highlighter-rouge">POSIXct</code>：整数，常用于存入数据框</li> <li><code class="highlighter-rouge">POSIXlt</code>：列表，包含星期、年、月、日等。</li> </ul> </li> <li>字符 to 日期/时间 <ul> <li><code class="highlighter-rouge">as.Date()</code></li> <li><code class="highlighter-rouge">as.POSIXct()</code>/<code class="highlighter-rouge">as.POSIXlt()</code>/<code class="highlighter-rouge">strptime()</code></li> </ul> </li> </ul> </li> </ul> <p>日期</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">date</span><span class="p">()</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"Wed Dec 13 22:41:28 2017"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"character"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Sys.Date</span><span class="p">()</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2017-12-13"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"Date"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.Date</span><span class="p">(</span><span class="s2">"2015-01-02"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">3</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2015-01-02"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"Date"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">weekdays</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"星期五"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">months</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"一月"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">quarters</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"Q1"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">julian</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">16437</span><span class="w">
</span><span class="nf">attr</span><span class="p">(,</span><span class="s2">"origin"</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.Date</span><span class="p">((</span><span class="s2">"2016-01-01"</span><span class="p">))</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">4</span><span class="o">-</span><span class="n">x</span><span class="m">3</span><span class="w">
</span><span class="n">Time</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="m">364</span><span class="w"> </span><span class="n">days</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">x</span><span class="m">4</span><span class="o">-</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">364</span></code></pre></figure> <p>时间</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Sys.time</span><span class="p">()</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2017-12-13 22:57:25 CST"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"POSIXct"</span><span class="w"> </span><span class="s2">"POSIXt"</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.POSIXlt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2017-12-13 22:57:25 CST"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"POSIXlt"</span><span class="w"> </span><span class="s2">"POSIXt"</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="c1"># unclass(p), 属性去掉，内容留下</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="nf">unclass</span><span class="p">(</span><span class="n">p</span><span class="p">))</span><span class="w">
 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"sec"</span><span class="w">    </span><span class="s2">"min"</span><span class="w">    </span><span class="s2">"hour"</span><span class="w">   </span><span class="s2">"mday"</span><span class="w">   </span><span class="s2">"mon"</span><span class="w">    </span><span class="s2">"year"</span><span class="w">  
 </span><span class="p">[</span><span class="m">7</span><span class="p">]</span><span class="w"> </span><span class="s2">"wday"</span><span class="w">   </span><span class="s2">"yday"</span><span class="w">   </span><span class="s2">"isdst"</span><span class="w">  </span><span class="s2">"zone"</span><span class="w">   </span><span class="s2">"gmtoff"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p</span><span class="o">$</span><span class="n">sec</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">25.32764</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">as.POSIXct</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2017-12-13 22:57:25 CST"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">as.Date</span><span class="p">(</span><span class="s2">"2015-02-23"</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2015-02-23"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="c1"># 一月，不可是Jan, 按机器设置， current locale</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"一月 1, 2015 01:01"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">strptime</span><span class="p">(</span><span class="n">x</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"%B %d, %Y %H:%M"</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2015-01-01 01:01:00 CST"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="o">?</span><span class="n">strptime</span></code></pre></figure> <h2 id="相关资源">相关资源</h2> <ul> <li><a href="https://www.youtube.com/playlist?list=PLO5e_-yXpYLBWwWiFiMYbeTDBGtRrnfKJ">youtube - R base</a></li> </ul> 5102 </div> --> <div class="row content"> <ul id="markdown-toc"> <li><a href="#小结" id="markdown-toc-小结">小结</a></li> <li><a href="#对象基本类型" id="markdown-toc-对象基本类型">对象基本类型</a></li> <li><a href="#对象属性" id="markdown-toc-对象属性">对象属性</a></li> <li><a href="#向量" id="markdown-toc-向量">向量</a></li> <li><a href="#矩阵-和-数组" id="markdown-toc-矩阵-和-数组">矩阵 和 数组</a></li> <li><a href="#列表" id="markdown-toc-列表">列表</a></li> <li><a href="#因子" id="markdown-toc-因子">因子</a></li> <li><a href="#缺失值" id="markdown-toc-缺失值">缺失值</a></li> <li><a href="#数据框" id="markdown-toc-数据框">数据框</a></li> <li><a href="#日期与时间" id="markdown-toc-日期与时间">日期与时间</a></li> <li><a href="#相关资源" id="markdown-toc-相关资源">相关资源</a></li> </ul> <h2 id="小结">小结</h2> <ul> <li>5种对象类型 <ul> <li><code class="highlighter-rouge">character</code>, <code class="highlighter-rouge">numeric</code>, <code class="highlighter-rouge">integer</code>, <code class="highlighter-rouge">complex</code>, <code class="highlighter-rouge">logical</code></li> </ul> </li> <li>向量 <ul> <li>+2维度 - 矩阵</li> <li>+&gt;维度 - 数组</li> <li>+不同类型 - 列表 - +元素长度相同 - 数据框 - data.matrix() - 矩阵</li> <li>整数+标签 - 因子</li> </ul> </li> <li>日期/时间</li> </ul> <h2 id="对象基本类型">对象基本类型</h2> <p>对象的5种基本类型(classes of objects)</p> <ul> <li>字符(character)</li> <li>数值(numeric: real numbers)</li> <li>整数(integer)</li> <li>复数(complex: 1+2i)</li> <li>逻辑(logical: TRUE/FALSE)</li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"numeric"</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1L</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"hello"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"character"</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2i</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"complex"</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">TRUE</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"logical"</span></code></pre></figure> <h2 id="对象属性">对象属性</h2> <ul> <li>属性(attribute) <ul> <li>名称(name)</li> <li>维度(dimensions: matrix, array)</li> <li>类型(class)</li> <li>长度(length)</li> </ul> </li> </ul> <h2 id="向量">向量</h2> <ul> <li>向量(vector) <ul> <li>只能包含 <strong>同一类型</strong> 的对象</li> <li>创建向量 <code class="highlighter-rouge">.vector()</code> <code class="highlighter-rouge">.c()</code> <code class="highlighter-rouge">.as.logical()</code>/<code class="highlighter-rouge">as.numeric()</code>/<code class="highlighter-rouge">as.character()</code></li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vector</span><span class="p">(</span><span class="s2">"character"</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="m">10</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w">
 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="s2">""</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">1</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)</span><span class="w">  
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">4</span><span class="w">

</span><span class="c1"># 如果输入类型不一致，R会强制转换为一种类型</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="s2">"a"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">3</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"TRUE"</span><span class="w"> </span><span class="s2">"10"</span><span class="w">   </span><span class="s2">"a"</span><span class="w">   

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">4</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"a"</span><span class="w"> </span><span class="s2">"b"</span><span class="w"> </span><span class="s2">"c"</span><span class="w">

</span><span class="c1"># 强制转换</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">x</span><span class="m">4</span><span class="p">)</span><span class="w">    
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">NA</span><span class="w"> </span><span class="kc">NA</span><span class="w"> </span><span class="kc">NA</span><span class="w">
</span><span class="n">Warning</span><span class="w"> </span><span class="n">message</span><span class="o">:</span><span class="w">
</span><span class="err">强制改变过程中产生了</span><span class="kc">NA</span><span class="w"> 

</span><span class="nf">as.logical</span><span class="p">(</span><span class="n">..</span><span class="p">)</span><span class="w">
</span><span class="nf">as.character</span><span class="p">(</span><span class="n">..</span><span class="p">)</span><span class="w">

</span><span class="c1"># 获取类型</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">

</span><span class="c1"># 添加名称</span><span class="w">
</span><span class="nf">names</span><span class="p">(</span><span class="n">x</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">,</span><span class="w"> </span><span class="s2">"d"</span><span class="p">)</span></code></pre></figure> <h2 id="矩阵-和-数组">矩阵 和 数组</h2> <ul> <li>矩阵(<code class="highlighter-rouge">matrix</code>) <ul> <li>向量+维度属性（整数向量: <code class="highlighter-rouge">nrow</code>, <code class="highlighter-rouge">ncol</code>）</li> <li>创建矩阵 <ul> <li><code class="highlighter-rouge">matrix()</code>: 先列后行</li> <li><code class="highlighter-rouge">vector()</code>+<code class="highlighter-rouge">dim()</code></li> <li><code class="highlighter-rouge">cbind()</code>, <code class="highlighter-rouge">rbind()</code></li> <li><code class="highlighter-rouge">attributes()</code></li> </ul> </li> </ul> </li> </ul> <p>矩阵赋值</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">nclo</span><span class="w"> </span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">nclo</span><span class="w"> </span><span class="o">=</span><span class="m">2</span><span class="p">)</span></code></pre></figure> <p>矩阵填充时，列优先</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">dim</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c1"># 查看矩阵 行列</span></code></pre></figure> <p>查看矩阵属性</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">attributes</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">

</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="w">
</span><span class="nf">dim</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)</span></code></pre></figure> <p>矩阵拼接</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">y</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">

</span><span class="c1"># 行拼接</span><span class="w">
</span><span class="n">rbind</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="m">2</span><span class="p">)</span><span class="w">

</span><span class="c1"># 列拼接</span><span class="w">
</span><span class="n">cbind</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="m">3</span><span class="p">)</span></code></pre></figure> <ul> <li>数组(array) <ul> <li>与矩阵类型，但维度可以 大于2</li> <li>创建数组</li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">array</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">6</span><span class="p">))</span><span class="w">

</span><span class="n">x</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">array</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">))</span></code></pre></figure> <h2 id="列表">列表</h2> <ul> <li>列表（list） <ul> <li>可以包含 <strong>不同类型</strong> 对象</li> <li>创建列表 <code class="highlighter-rouge">list()</code></li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># list</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">10L</span><span class="p">,</span><span class="w">  </span><span class="m">3+4i</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="w">
</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"a"</span><span class="w">

</span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">2</span><span class="w">

</span><span class="p">[[</span><span class="m">3</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">10</span><span class="w">

</span><span class="p">[[</span><span class="m">4</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3+4i</span><span class="w">

</span><span class="p">[[</span><span class="m">5</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">TRUE</span><span class="w">

</span><span class="c1"># with name</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="nf">list</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="m">2</span><span class="w">
</span><span class="o">$</span><span class="n">a</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w">

</span><span class="o">$</span><span class="n">b</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">2</span><span class="w">

</span><span class="o">$</span><span class="n">c</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="m">3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">),</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">7</span><span class="p">))</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="m">3</span><span class="w">
</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w">

</span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">7</span><span class="w">

</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matric</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="nf">dimnames</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">),</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"c"</span><span class="p">,</span><span class="w"> </span><span class="s2">"d"</span><span class="p">,</span><span class="w"> </span><span class="s2">"e"</span><span class="p">))</span></code></pre></figure> <h2 id="因子">因子</h2> <ul> <li>因子(<code class="highlighter-rouge">factor</code>) <ul> <li>分类 数据/ 有序 vs 无序</li> <li>整数向量+标签（label）（优于整数向量） Male/Female vs. 1/2 常用于 <code class="highlighter-rouge">lm()</code>, <code class="highlighter-rouge">glm()</code></li> <li>创建因子 <code class="highlighter-rouge">factor()</code> <code class="highlighter-rouge">table()</code>/<code class="highlighter-rouge">unclass()</code></li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"female"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">))</span><span class="w">
</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"female"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">),</span><span class="w"> </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"male"</span><span class="p">,</span><span class="w"> </span><span class="s2">"female"</span><span class="p">))</span></code></pre></figure> <p>通过levels 设置factor中基线水平</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">table</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code></pre></figure> <p>去掉factor属性</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">unclass</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="nf">class</span><span class="p">(</span><span class="nf">unclass</span><span class="p">(</span><span class="n">x</span><span class="p">))</span></code></pre></figure> <h2 id="缺失值">缺失值</h2> <ul> <li>缺失值（missing value） <ul> <li>NA/NaN: NaN属于NA， NA不属于NaN NaN一般表示数字的缺失</li> <li>NA有类型属性： integer NA, character NA</li> <li><code class="highlighter-rouge">is.na()</code>/<code class="highlighter-rouge">is.nan()</code></li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.na</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.nan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kc">NaN</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NaN</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.na</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.nan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span></code></pre></figure> <h2 id="数据框">数据框</h2> <ul> <li>数据框(data frame) <ul> <li>存储表格数据(tabular data)</li> <li>视为各元素长度相同的 列表 <ul> <li>每个元素代表一列数据</li> <li>每个元素的长度代表行数</li> <li>元素类型可以不同</li> </ul> </li> </ul> </li> </ul> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">),</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">,</span><span class="w"> </span><span class="s1">'d'</span><span class="p">),</span><span class="w"> </span><span class="n">gender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nrow</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">4</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ncol</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">df2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">id</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">),</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">86</span><span class="p">,</span><span class="m">90</span><span class="p">,</span><span class="m">100</span><span class="p">))</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">df2</span><span class="w">
  </span><span class="n">id</span><span class="w"> </span><span class="n">score</span><span class="w">
</span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">    </span><span class="m">80</span><span class="w">
</span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">    </span><span class="m">86</span><span class="w">
</span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">    </span><span class="m">90</span><span class="w">
</span><span class="m">4</span><span class="w">  </span><span class="m">4</span><span class="w">   </span><span class="m">100</span><span class="w">


</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data.matrix</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span><span class="w">
     </span><span class="n">id</span><span class="w"> </span><span class="n">score</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">  </span><span class="m">1</span><span class="w">    </span><span class="m">80</span><span class="w">
</span><span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">  </span><span class="m">2</span><span class="w">    </span><span class="m">86</span><span class="w">
</span><span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w">  </span><span class="m">3</span><span class="w">    </span><span class="m">90</span><span class="w">
</span><span class="p">[</span><span class="m">4</span><span class="p">,]</span><span class="w">  </span><span class="m">4</span><span class="w">   </span><span class="m">100</span></code></pre></figure> <h2 id="日期与时间">日期与时间</h2> <ul> <li>日期与时间(date, time) <ul> <li>日期： Date <ul> <li>距离1970-01-01的天数/<code class="highlighter-rouge">date()</code>/<code class="highlighter-rouge">Sys.Date()</code></li> <li><code class="highlighter-rouge">weekdays()</code>/<code class="highlighter-rouge">months()</code>/<code class="highlighter-rouge">quarters()</code></li> </ul> </li> <li>时间：<code class="highlighter-rouge">POSIXct</code>/<code class="highlighter-rouge">POSIXlt</code> <ul> <li>距离1970-01-01的秒数/Sys.time()</li> <li><code class="highlighter-rouge">POSIXct</code>：整数，常用于存入数据框</li> <li><code class="highlighter-rouge">POSIXlt</code>：列表，包含星期、年、月、日等。</li> </ul> </li> <li>字符 to 日期/时间 <ul> <li><code class="highlighter-rouge">as.Date()</code></li> <li><code class="highlighter-rouge">as.POSIXct()</code>/<code class="highlighter-rouge">as.POSIXlt()</code>/<code class="highlighter-rouge">strptime()</code></li> </ul> </li> </ul> </li> </ul> <p>日期</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">date</span><span class="p">()</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"Wed Dec 13 22:41:28 2017"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"character"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Sys.Date</span><span class="p">()</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">2</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2017-12-13"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"Date"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.Date</span><span class="p">(</span><span class="s2">"2015-01-02"</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">3</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2015-01-02"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"Date"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">weekdays</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"星期五"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">months</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"一月"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">quarters</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"Q1"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">julian</span><span class="p">(</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">16437</span><span class="w">
</span><span class="nf">attr</span><span class="p">(,</span><span class="s2">"origin"</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.Date</span><span class="p">((</span><span class="s2">"2016-01-01"</span><span class="p">))</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">4</span><span class="o">-</span><span class="n">x</span><span class="m">3</span><span class="w">
</span><span class="n">Time</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="m">364</span><span class="w"> </span><span class="n">days</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">x</span><span class="m">4</span><span class="o">-</span><span class="n">x</span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">364</span></code></pre></figure> <p>时间</p> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Sys.time</span><span class="p">()</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2017-12-13 22:57:25 CST"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"POSIXct"</span><span class="w"> </span><span class="s2">"POSIXt"</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.POSIXlt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2017-12-13 22:57:25 CST"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"POSIXlt"</span><span class="w"> </span><span class="s2">"POSIXt"</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="c1"># unclass(p), 属性去掉，内容留下</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="nf">unclass</span><span class="p">(</span><span class="n">p</span><span class="p">))</span><span class="w">
 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"sec"</span><span class="w">    </span><span class="s2">"min"</span><span class="w">    </span><span class="s2">"hour"</span><span class="w">   </span><span class="s2">"mday"</span><span class="w">   </span><span class="s2">"mon"</span><span class="w">    </span><span class="s2">"year"</span><span class="w">  
 </span><span class="p">[</span><span class="m">7</span><span class="p">]</span><span class="w"> </span><span class="s2">"wday"</span><span class="w">   </span><span class="s2">"yday"</span><span class="w">   </span><span class="s2">"isdst"</span><span class="w">  </span><span class="s2">"zone"</span><span class="w">   </span><span class="s2">"gmtoff"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p</span><span class="o">$</span><span class="n">sec</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">25.32764</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">as.POSIXct</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2017-12-13 22:57:25 CST"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">as.Date</span><span class="p">(</span><span class="s2">"2015-02-23"</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2015-02-23"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> 
</span><span class="o">&gt;</span><span class="w"> </span><span class="c1"># 一月，不可是Jan, 按机器设置， current locale</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="m">1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"一月 1, 2015 01:01"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">strptime</span><span class="p">(</span><span class="n">x</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"%B %d, %Y %H:%M"</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s2">"2015-01-01 01:01:00 CST"</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="o">?</span><span class="n">strptime</span></code></pre></figure> <h2 id="相关资源">相关资源</h2> <ul> <li><a href="https://www.youtube.com/playlist?list=PLO5e_-yXpYLBWwWiFiMYbeTDBGtRrnfKJ">youtube - R base</a></li> </ul> <div class="col-sm-2 image pull-right"> <img class="avatar-img avata" style='border="0";border-radius: 50%' src="http://www.forbackup.tk/assets/img/author/blog.svg" alt="" height="32px" width="32px"> </div> </div> <ul class="pager"> <li><a href="/general/2018/01/09/frontend.html">前端资料索引</a></li> <li><a href="/data_analysis/2018/01/10/r-base-2.html">R 构建子集</a></li> </ul> </article> </div> </div> </div> <div class="footer"> <div class="container-fluid"> <div class="row-fluid"> <div class="col-sm-4 copyright"> <span>Vicky's Blog © 2018 • All right reserved.</span> </div> <div class="col-sm-4 message"> <span>Simplicity is fashionable.</span> </div> <div class="col-sm-4 madeby"> <span>Made with&nbsp;<a href="https://jekyllrb.com" target="_blank">Jekyll</a>&nbsp;by&nbsp;Vicky.</span> </div> <a class="pull-right top" href="#top"><i class="fa fa-caret-up" aria-hidden="true"></i></a> </div> </div> </div> </div> <!-- Vendor - Global | Applicable to every website --> <!-- #### VENDOR OFFLINE #### --> <script src="http://www.forbackup.tk/assets/vendor-off/jquery/js/jquery.min.js"></script> <script src="http://www.forbackup.tk/assets/vendor-off/bootstrap/js/bootstrap.min.js"></script> <script defer src="http://www.forbackup.tk/assets/vendor-off/font-awesome/svg-with-js/js/fontawesome-all.min.js"></script> <script src="http://www.forbackup.tk/assets/javascripts/jekyll-spotify-plugin.min.js"></script> <!-- Specific for each pages. --> <script type="text/javascript" src="http://www.forbackup.tk/assets/javascripts/post.js"></script> <!-- Add 'ga' function from Google Analytics to certain site links in Posts --> <!-- App | Global --> <script src="http://www.forbackup.tk/assets/javascripts/global.js"></script> </body> </html>




    



<!-- Include Data Base --> <!DOCTYPE html> <html lang="en" itemscope itemtype="http://schema.org/WebPage"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Docker系列 0 | Vicky's Blog </title> <meta name=description content=""> <meta name="robots" content="index, follow"> <meta name=viewport content="width=device-width, initial-scale=1"> <meta http-equiv="cache-control" content="public"/> <meta http-equiv="pragma" content="public"> <meta name="keywords" content="Theme, Jekyll" /> <meta name="author" content="" /> <meta property="og:locale" content="en" /> <meta property="og:site_name" content="Vicky's Blog" /> <meta property="og:type" content="WebSite" /> <meta property="og:url" content="http://www.forbackup.tk/docker_col/2017/07/09/docker-learn-00.html" /> <meta property="og:description" content="" /> <meta property="og:title" content="Docker系列 0 - Vicky's Blog" /> <link rel="canonical" href="http://www.forbackup.tk/docker_col/2017/07/09/docker-learn-00.html"> <link rel="alternate" type="application/rss+xml" title="Vicky's Blog" href="http://www.forbackup.tk/feed.xml"> <script type="application/ld+json"> {"@context": "http://schema.org", "@type": "WebSite", "name": "", "headline": "Vicky's Blog", "author": {"@type": "Person", "name": {"Vicky's Blog"}}, "description": "", "url": "http://www.forbackup.tk"} </script> <script type="text/javascript"> var GLOBAL_BASEURL = "http://www.forbackup.tk"; </script> <link rel="icon" type="image/png" sizes="16x16" href="http://www.forbackup.tk/assets/img/favicon/favicon-16x16.png"> <!-- #### VENDOR OFFLINE #### --> <!-- Bootstrap 3.3.6 - Offline --> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/bootstrap/css/bootstrap.min.css"> <!-- Font Awesome 5.03 - Offline --> <script defer src="http://www.forbackup.tk/assets/vendor-off/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css"></script> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/fonts/space-mono/space-mono.min.css"> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/fonts/gloria-hallelujah/gloria-hallelujah.min.css"> <!-- Style Default --> <link rel="stylesheet" href="http://www.forbackup.tk/assets/stylesheets/main.css"> <!-- Google Analytics --> </head> <body> <div class="main" id="top"> <div class="container wrapper"> <div class="row"> <div class="col-sm-3 sidebar"> <div class="row avatar"> <a href="http://www.forbackup.tk/"> <img class="img-responsive center-block avatar-img" src="http://www.forbackup.tk/assets/img/avatar/blog.svg" height="165" width="165" alt="Vicky's Blog"> </a> </div> <div class="row header"> <h2><a href="http://www.forbackup.tk/">Vicky </a></h2> </div> <div class="row menu"> <ul> <li> <i class="fa fa-home" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/">Home</a> </li> <hr class="breakline"> <li class="li-folder-open"> <i style="font-size: ;" class="fas fa-folder-open"></i>&nbsp;<a class="unlink">Blog</a> </li> <li class="li-fa-edit"> <i style="font-size: ;" class="fas fa-edit" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/general/" >General</a> </li> <li class="li-fa-docker"> <i style="font-size: ;" class="fab fa-docker" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/docker_col/" >Docker</a> </li> <li class="li-fa-table"> <i style="font-size: ;" class="fas fa-table" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/data_analysis/" >Data Analysis</a> </li> <li class="li-fa-tags"> <i style="font-size: ;" class="fas fa-tags" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/blog/tags/" >Tags</a> </li> <li class="li-fa-briefcase"> <i style="font-size: ;" class="fas fa-briefcase" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/blog/projects/" >Projects</a> </li> </ul> <div class="socials"> <div class="row"> <p></p> <p></p> </div> </div> </div> </div> <div class="col-sm-9 content-main"> <!-- Include Data Base --> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <!-- Next Version <div class="readmode"> <a id="btn-readmode" class="pull-right btn btn-default btn-readmode" href="">Read Mode</a> </div> --> <div class="row title"> <h1>Docker系列 0</h1> </div> <div class="row meta" datetime="2017-07-09"> <time class="col-sm-6 datetime"> <i class="fa fa-calendar" aria-hidden="true"></i> <span class="text tmargin ">July 09, 2017</span> </time> </div> <div class="row tag-list"> <i class="fa fa-tags" aria-hidden="true"></i> <a href="http://www.forbackup.tk/blog/tags//环境配置">环境配置</a> <a href="http://www.forbackup.tk/blog/tags//linux">linux</a> <a href="http://www.forbackup.tk/blog/tags//docker">docker</a> </div> <!-- <div class="row"> <ul id="markdown-toc"> <li><a href="#容器-what-why-how" id="markdown-toc-容器-what-why-how">容器 What, Why, How</a> <ul> <li><a href="#what---什么是容器" id="markdown-toc-what---什么是容器">What - 什么是容器？</a></li> <li><a href="#容器与虚拟机" id="markdown-toc-容器与虚拟机">容器与虚拟机</a></li> <li><a href="#why---为什么需要容器" id="markdown-toc-why---为什么需要容器">Why - 为什么需要容器？</a> <ul> <li><a href="#容器解决的问题" id="markdown-toc-容器解决的问题">容器解决的问题</a></li> <li><a href="#docker-的特性" id="markdown-toc-docker-的特性">Docker 的特性</a></li> <li><a href="#容器的优势" id="markdown-toc-容器的优势">容器的优势</a></li> </ul> </li> <li><a href="#how---容器是如何工作的" id="markdown-toc-how---容器是如何工作的">How - 容器是如何工作的？</a></li> </ul> </li> </ul> <h2 id="容器-what-why-how">容器 What, Why, How</h2> <h3 id="what---什么是容器">What - 什么是容器？</h3> <p>容器是一种轻量级、可移植、自包含的软件打包技术，使应用程序可以在几乎任何地方以相同的方式运行。开发人员在自己笔记本上创建并测试好的容器，无需任何修改就能够在生产系统的虚拟机、物理服务器或公有云主机上运行。</p> <h3 id="容器与虚拟机">容器与虚拟机</h3> <p>谈到容器，就不得不将它与虚拟机进行对比，因为两者都是为应用提供封装和隔离。</p> <p>容器由两部分组成：</p> <ul> <li>应用程序本身</li> <li>依赖：比如应用程序需要的库或其他软件</li> </ul> <p>容器在 Host 操作系统的用户空间中运行，与操作系统的其他进程隔离。这一点显著区别于的虚拟机。</p> <p>传统的虚拟化技术，比如 VMWare, KVM, Xen，目标是创建完整的虚拟机。为了运行应用，除了部署应用本身及其依赖（通常几十 MB），还得安装整个操作系统（几十 GB）。</p> <p>下图展示了二者的区别。</p> <p><img src="http://www.forbackup.tk/assets/img/used/docker/vm_docker.jpg" alt="vm and docker @x100" /></p> <p>如图所示，由于所有的容器共享同一个 Host OS，这使得容器在体积上要比虚拟机小很多。另外，启动容器不需要启动整个操作系统，所以容器部署和启动速度更快，开销更小，也更容易迁移。</p> <h3 id="why---为什么需要容器">Why - 为什么需要容器？</h3> <p>为什么需要容器？容器到底解决的是什么问题？ 简要的答案是：容器使软件具备了超强的可移植能力。</p> <h4 id="容器解决的问题">容器解决的问题</h4> <p>我们来看看今天的软件开发面临着怎样的挑战？</p> <p>如今的系统在架构上较十年前已经变得非常复杂了。以前几乎所有的应用都采用三层架构（Presentation/Application/Data），系统部署到有限的几台物理服务器上（Web Server/Application Server/Database Server）。</p> <p>而今天，开发人员通常使用多种服务（比如 MQ，Cache，DB）构建和组装应用，而且应用很可能会部署到不同的环境，比如虚拟服务器，私有云和公有云。</p> <p>一方面应用包含多种服务，这些服务有自己所依赖的库和软件包；另一方面存在多种部署环境，服务在运行时可能需要动态迁移到不同的环境中。这就产生了一个问题：</p> <p><strong>如何让每种服务能够在所有的部署环境中顺利运行？</strong></p> <p>各种服务和环境通过排列组合产生了一个大矩阵。开发人员在编写代码时需要考虑不同的运行环境，运维人员则需要为不同的服务和平台配置环境。对他们双方来说，这都是一项困难而艰巨的任务。</p> <p>如何解决这个问题呢？</p> <p>聪明的技术人员从传统的运输行业找到了答案。</p> <p>几十年前，运输业面临着类似的问题。</p> <p>每一次运输，货主与承运方都会担心因货物类型的不同而导致损失，比如几个铁桶错误地压在了一堆香蕉上。另一方面，运输过程中需要使用不同的交通工具也让整个过程痛苦不堪：货物先装上车运到码头，卸货，然后装上船，到岸后又卸下船，再装上火车，到达目的地，最后卸货。一半以上的时间花费在装、卸货上，而且搬上搬下还容易损坏货物。</p> <p>这同样也是一个 NxM 的矩阵。</p> <p>幸运的是，集装箱的发明解决这个难题。</p> <p>Docker 将集装箱思想运用到软件打包上，为代码提供了一个基于容器的标准化运输系统。Docker 可以将任何应用及其依赖打包成一个轻量级、可移植、自包含的容器。容器可以运行在几乎所有的操作系统上。</p> <h4 id="docker-的特性">Docker 的特性</h4> <p>我们可以看看集装箱思想是如何与 Docker 各种特性相对应的。</p> <h4 id="容器的优势">容器的优势</h4> <p>对于开发人员 - Build Once, Run Anywhere</p> <p>容器意味着环境隔离和可重复性。开发人员只需为应用创建一次运行环境，然后打包成容器便可在其他机器上运行。另外，容器环境与所在的 Host 环境是隔离的，就像虚拟机一样，但更快更简单。</p> <p>对于运维人员 - Configure Once, Run Anything</p> <p>只需要配置好标准的 runtime 环境，服务器就可以运行任何容器。这使得运维人员的工作变得更高效，一致和可重复。容器消除了开发、测试、生产环境的不一致性。</p> <h3 id="how---容器是如何工作的">How - 容器是如何工作的？</h3> <p>从下节开始我们将学习容器核心知识的最主要部分。首先会介绍 Docker 的架构，然后分章节详细讨论 Docker 的镜像、容器、网络和存储。</p> 1808 </div> --> <div class="row content"> <ul id="markdown-toc"> <li><a href="#容器-what-why-how" id="markdown-toc-容器-what-why-how">容器 What, Why, How</a> <ul> <li><a href="#what---什么是容器" id="markdown-toc-what---什么是容器">What - 什么是容器？</a></li> <li><a href="#容器与虚拟机" id="markdown-toc-容器与虚拟机">容器与虚拟机</a></li> <li><a href="#why---为什么需要容器" id="markdown-toc-why---为什么需要容器">Why - 为什么需要容器？</a> <ul> <li><a href="#容器解决的问题" id="markdown-toc-容器解决的问题">容器解决的问题</a></li> <li><a href="#docker-的特性" id="markdown-toc-docker-的特性">Docker 的特性</a></li> <li><a href="#容器的优势" id="markdown-toc-容器的优势">容器的优势</a></li> </ul> </li> <li><a href="#how---容器是如何工作的" id="markdown-toc-how---容器是如何工作的">How - 容器是如何工作的？</a></li> </ul> </li> </ul> <h2 id="容器-what-why-how">容器 What, Why, How</h2> <h3 id="what---什么是容器">What - 什么是容器？</h3> <p>容器是一种轻量级、可移植、自包含的软件打包技术，使应用程序可以在几乎任何地方以相同的方式运行。开发人员在自己笔记本上创建并测试好的容器，无需任何修改就能够在生产系统的虚拟机、物理服务器或公有云主机上运行。</p> <h3 id="容器与虚拟机">容器与虚拟机</h3> <p>谈到容器，就不得不将它与虚拟机进行对比，因为两者都是为应用提供封装和隔离。</p> <p>容器由两部分组成：</p> <ul> <li>应用程序本身</li> <li>依赖：比如应用程序需要的库或其他软件</li> </ul> <p>容器在 Host 操作系统的用户空间中运行，与操作系统的其他进程隔离。这一点显著区别于的虚拟机。</p> <p>传统的虚拟化技术，比如 VMWare, KVM, Xen，目标是创建完整的虚拟机。为了运行应用，除了部署应用本身及其依赖（通常几十 MB），还得安装整个操作系统（几十 GB）。</p> <p>下图展示了二者的区别。</p> <p><img src="http://www.forbackup.tk/assets/img/used/docker/vm_docker.jpg" alt="vm and docker @x100" /></p> <p>如图所示，由于所有的容器共享同一个 Host OS，这使得容器在体积上要比虚拟机小很多。另外，启动容器不需要启动整个操作系统，所以容器部署和启动速度更快，开销更小，也更容易迁移。</p> <h3 id="why---为什么需要容器">Why - 为什么需要容器？</h3> <p>为什么需要容器？容器到底解决的是什么问题？ 简要的答案是：容器使软件具备了超强的可移植能力。</p> <h4 id="容器解决的问题">容器解决的问题</h4> <p>我们来看看今天的软件开发面临着怎样的挑战？</p> <p>如今的系统在架构上较十年前已经变得非常复杂了。以前几乎所有的应用都采用三层架构（Presentation/Application/Data），系统部署到有限的几台物理服务器上（Web Server/Application Server/Database Server）。</p> <p>而今天，开发人员通常使用多种服务（比如 MQ，Cache，DB）构建和组装应用，而且应用很可能会部署到不同的环境，比如虚拟服务器，私有云和公有云。</p> <p>一方面应用包含多种服务，这些服务有自己所依赖的库和软件包；另一方面存在多种部署环境，服务在运行时可能需要动态迁移到不同的环境中。这就产生了一个问题：</p> <p><strong>如何让每种服务能够在所有的部署环境中顺利运行？</strong></p> <p>各种服务和环境通过排列组合产生了一个大矩阵。开发人员在编写代码时需要考虑不同的运行环境，运维人员则需要为不同的服务和平台配置环境。对他们双方来说，这都是一项困难而艰巨的任务。</p> <p>如何解决这个问题呢？</p> <p>聪明的技术人员从传统的运输行业找到了答案。</p> <p>几十年前，运输业面临着类似的问题。</p> <p>每一次运输，货主与承运方都会担心因货物类型的不同而导致损失，比如几个铁桶错误地压在了一堆香蕉上。另一方面，运输过程中需要使用不同的交通工具也让整个过程痛苦不堪：货物先装上车运到码头，卸货，然后装上船，到岸后又卸下船，再装上火车，到达目的地，最后卸货。一半以上的时间花费在装、卸货上，而且搬上搬下还容易损坏货物。</p> <p>这同样也是一个 NxM 的矩阵。</p> <p>幸运的是，集装箱的发明解决这个难题。</p> <p>Docker 将集装箱思想运用到软件打包上，为代码提供了一个基于容器的标准化运输系统。Docker 可以将任何应用及其依赖打包成一个轻量级、可移植、自包含的容器。容器可以运行在几乎所有的操作系统上。</p> <h4 id="docker-的特性">Docker 的特性</h4> <p>我们可以看看集装箱思想是如何与 Docker 各种特性相对应的。</p> <h4 id="容器的优势">容器的优势</h4> <p>对于开发人员 - Build Once, Run Anywhere</p> <p>容器意味着环境隔离和可重复性。开发人员只需为应用创建一次运行环境，然后打包成容器便可在其他机器上运行。另外，容器环境与所在的 Host 环境是隔离的，就像虚拟机一样，但更快更简单。</p> <p>对于运维人员 - Configure Once, Run Anything</p> <p>只需要配置好标准的 runtime 环境，服务器就可以运行任何容器。这使得运维人员的工作变得更高效，一致和可重复。容器消除了开发、测试、生产环境的不一致性。</p> <h3 id="how---容器是如何工作的">How - 容器是如何工作的？</h3> <p>从下节开始我们将学习容器核心知识的最主要部分。首先会介绍 Docker 的架构，然后分章节详细讨论 Docker 的镜像、容器、网络和存储。</p> <div class="col-sm-2 image pull-right"> <img class="avatar-img avata" style='border="0";border-radius: 50%' src="http://www.forbackup.tk/assets/img/author/blog.svg" alt="" height="32px" width="32px"> </div> </div> <ul class="pager"> <li><a href="/general/2017/02/02/doc-tools.html">document tools</a></li> <li><a href="/docker_col/2017/07/09/docker-learn-01.html">Docker系列 1 安装</a></li> </ul> </article> </div> </div> </div> <div class="footer"> <div class="container-fluid"> <div class="row-fluid"> <div class="col-sm-4 copyright"> <span>Vicky's Blog © 2018 • All right reserved.</span> </div> <div class="col-sm-4 message"> <span>Simplicity is fashionable.</span> </div> <div class="col-sm-4 madeby"> <span>Made with&nbsp;<a href="https://jekyllrb.com" target="_blank">Jekyll</a>&nbsp;by&nbsp;Vicky.</span> </div> <a class="pull-right top" href="#top"><i class="fa fa-caret-up" aria-hidden="true"></i></a> </div> </div> </div> </div> <!-- Vendor - Global | Applicable to every website --> <!-- #### VENDOR OFFLINE #### --> <script src="http://www.forbackup.tk/assets/vendor-off/jquery/js/jquery.min.js"></script> <script src="http://www.forbackup.tk/assets/vendor-off/bootstrap/js/bootstrap.min.js"></script> <script defer src="http://www.forbackup.tk/assets/vendor-off/font-awesome/svg-with-js/js/fontawesome-all.min.js"></script> <script src="http://www.forbackup.tk/assets/javascripts/jekyll-spotify-plugin.min.js"></script> <!-- Specific for each pages. --> <script type="text/javascript" src="http://www.forbackup.tk/assets/javascripts/post.js"></script> <!-- Add 'ga' function from Google Analytics to certain site links in Posts --> <!-- App | Global --> <script src="http://www.forbackup.tk/assets/javascripts/global.js"></script> </body> </html>




    



<!-- Include Data Base --> <!DOCTYPE html> <html lang="en" itemscope itemtype="http://schema.org/WebPage"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Docker系列 1 安装 | Vicky's Blog </title> <meta name=description content=""> <meta name="robots" content="index, follow"> <meta name=viewport content="width=device-width, initial-scale=1"> <meta http-equiv="cache-control" content="public"/> <meta http-equiv="pragma" content="public"> <meta name="keywords" content="Theme, Jekyll" /> <meta name="author" content="" /> <meta property="og:locale" content="en" /> <meta property="og:site_name" content="Vicky's Blog" /> <meta property="og:type" content="WebSite" /> <meta property="og:url" content="http://www.forbackup.tk/docker_col/2017/07/09/docker-learn-01.html" /> <meta property="og:description" content="" /> <meta property="og:title" content="Docker系列 1 安装 - Vicky's Blog" /> <link rel="canonical" href="http://www.forbackup.tk/docker_col/2017/07/09/docker-learn-01.html"> <link rel="alternate" type="application/rss+xml" title="Vicky's Blog" href="http://www.forbackup.tk/feed.xml"> <script type="application/ld+json"> {"@context": "http://schema.org", "@type": "WebSite", "name": "", "headline": "Vicky's Blog", "author": {"@type": "Person", "name": {"Vicky's Blog"}}, "description": "", "url": "http://www.forbackup.tk"} </script> <script type="text/javascript"> var GLOBAL_BASEURL = "http://www.forbackup.tk"; </script> <link rel="icon" type="image/png" sizes="16x16" href="http://www.forbackup.tk/assets/img/favicon/favicon-16x16.png"> <!-- #### VENDOR OFFLINE #### --> <!-- Bootstrap 3.3.6 - Offline --> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/bootstrap/css/bootstrap.min.css"> <!-- Font Awesome 5.03 - Offline --> <script defer src="http://www.forbackup.tk/assets/vendor-off/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css"></script> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/fonts/space-mono/space-mono.min.css"> <link rel="stylesheet" href="http://www.forbackup.tk/assets/vendor-off/fonts/gloria-hallelujah/gloria-hallelujah.min.css"> <!-- Style Default --> <link rel="stylesheet" href="http://www.forbackup.tk/assets/stylesheets/main.css"> <!-- Google Analytics --> </head> <body> <div class="main" id="top"> <div class="container wrapper"> <div class="row"> <div class="col-sm-3 sidebar"> <div class="row avatar"> <a href="http://www.forbackup.tk/"> <img class="img-responsive center-block avatar-img" src="http://www.forbackup.tk/assets/img/avatar/blog.svg" height="165" width="165" alt="Vicky's Blog"> </a> </div> <div class="row header"> <h2><a href="http://www.forbackup.tk/">Vicky </a></h2> </div> <div class="row menu"> <ul> <li> <i class="fa fa-home" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/">Home</a> </li> <hr class="breakline"> <li class="li-folder-open"> <i style="font-size: ;" class="fas fa-folder-open"></i>&nbsp;<a class="unlink">Blog</a> </li> <li class="li-fa-edit"> <i style="font-size: ;" class="fas fa-edit" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/general/" >General</a> </li> <li class="li-fa-docker"> <i style="font-size: ;" class="fab fa-docker" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/docker_col/" >Docker</a> </li> <li class="li-fa-table"> <i style="font-size: ;" class="fas fa-table" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/data_analysis/" >Data Analysis</a> </li> <li class="li-fa-tags"> <i style="font-size: ;" class="fas fa-tags" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/blog/tags/" >Tags</a> </li> <li class="li-fa-briefcase"> <i style="font-size: ;" class="fas fa-briefcase" aria-hidden="true"></i>&nbsp;<a href="http://www.forbackup.tk/blog/projects/" >Projects</a> </li> </ul> <div class="socials"> <div class="row"> <p></p> <p></p> </div> </div> </div> </div> <div class="col-sm-9 content-main"> <!-- Include Data Base --> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <!-- Next Version <div class="readmode"> <a id="btn-readmode" class="pull-right btn btn-default btn-readmode" href="">Read Mode</a> </div> --> <div class="row title"> <h1>Docker系列 1 安装</h1> </div> <div class="row meta" datetime="2017-07-09"> <time class="col-sm-6 datetime"> <i class="fa fa-calendar" aria-hidden="true"></i> <span class="text tmargin ">July 09, 2017</span> </time> </div> <div class="row tag-list"> <i class="fa fa-tags" aria-hidden="true"></i> <a href="http://www.forbackup.tk/blog/tags//环境配置">环境配置</a> <a href="http://www.forbackup.tk/blog/tags//linux">linux</a> <a href="http://www.forbackup.tk/blog/tags//docker">docker</a> </div> <!-- <div class="row"> <ul id="markdown-toc"> <li><a href="#安装" id="markdown-toc-安装">安装</a> <ul> <li><a href="#set-up-the-repository" id="markdown-toc-set-up-the-repository">SET UP THE REPOSITORY</a> <ul> <li><a href="#相关包" id="markdown-toc-相关包">相关包</a></li> <li><a href="#set-up-the-stable-repository" id="markdown-toc-set-up-the-stable-repository">set up the stable repository</a></li> </ul> </li> <li><a href="#install-docker-ce" id="markdown-toc-install-docker-ce">INSTALL DOCKER CE</a> <ul> <li><a href="#start-docker" id="markdown-toc-start-docker">Start Docker</a></li> <li><a href="#verify" id="markdown-toc-verify">Verify</a></li> </ul> </li> </ul> </li> <li><a href="#基本命令" id="markdown-toc-基本命令">基本命令</a> <ul> <li><a href="#命令过程" id="markdown-toc-命令过程">命令过程</a></li> </ul> </li> <li><a href="#uninstall-docker-ce" id="markdown-toc-uninstall-docker-ce">Uninstall Docker CE</a></li> <li><a href="#相关资源" id="markdown-toc-相关资源">相关资源</a></li> </ul> <h2 id="安装">安装</h2> <h3 id="set-up-the-repository">SET UP THE REPOSITORY</h3> <h4 id="相关包">相关包</h4> <p><code class="highlighter-rouge">yum-utils</code> provides the <code class="highlighter-rouge">yum-config-manager</code> utility, and <code class="highlighter-rouge">device-mapper-persistent-data</code> and <code class="highlighter-rouge">lvm2</code> are required by the <code class="highlighter-rouge">devicemapper</code> storage driver</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> yum-utils <span class="se">\</span>
  device-mapper-persistent-data <span class="se">\</span>
  lvm2</code></pre></figure> <h4 id="set-up-the-stable-repository">set up the stable repository</h4> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>yum-config-manager <span class="se">\</span>
    <span class="nt">--add-repo</span> <span class="se">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
    
<span class="nb">sudo </span>yum makecache fast

<span class="nb">sudo </span>yum-config-manager <span class="nt">--disable</span> docker-ce-edge</code></pre></figure> <blockquote> <p>官方文档，路径错误</p> </blockquote> <h3 id="install-docker-ce">INSTALL DOCKER CE</h3> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>yum <span class="nb">install </span>docker-ce</code></pre></figure> <p>On production systems, you should install a specific version of Docker CE instead of always using the latest.</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell">yum list docker-ce <span class="nt">--showduplicates</span> | <span class="nb">sort</span> <span class="nt">-r</span>

<span class="nb">sudo </span>yum <span class="nb">install</span> &lt;FULLY-QUALIFIED-PACKAGE-NAME&gt;</code></pre></figure> <h4 id="start-docker">Start Docker</h4> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>systemctl start docker
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker</code></pre></figure> <h4 id="verify">Verify</h4> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>docker run hello-world</code></pre></figure> <h2 id="基本命令">基本命令</h2> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>docker search centos <span class="c"># ubuntu, fedora</span>
<span class="nb">sudo </span>docker pull centos
<span class="nb">sudo </span>docker pull httpd
<span class="c"># check if docker images downloaded</span>
<span class="nb">sudo </span>docker images centos

<span class="c"># run docker</span>
<span class="nb">sudo </span>docker run <span class="nt">-i</span> <span class="nt">-t</span> centos /bin/bash
<span class="nb">sudo </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 80:80 httpd

<span class="c"># current running list</span>
<span class="nb">sudo </span>docker ps</code></pre></figure> <h3 id="命令过程">命令过程</h3> <figure class="highlight"><pre><code class="language-shell" data-lang="shell">docker run <span class="nt">-d</span> <span class="nt">-p</span> 80:80 httpd   </code></pre></figure> <p>其过程可以简单的描述为：</p> <ol> <li>从 Docker Hub 下载 httpd 镜像。镜像中已经安装好了 Apache HTTP Server。</li> <li>启动 httpd 容器，并将容器的 80 端口映射到 host 的 80 端口。</li> <li>下面我们可以通过浏览器验证容器是否正常工作。在浏览器中输入 http://[your ubuntu host IP]</li> </ol> <h2 id="uninstall-docker-ce">Uninstall Docker CE</h2> <p>Uninstall the Docker package</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>yum remove docker-ce</code></pre></figure> <p>Images, containers, volumes, or customized configuration files on your host are not automatically removed. To delete all images, containers, and volumes:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo rm</span> <span class="nt">-rf</span> /var/lib/docker</code></pre></figure> <h2 id="相关资源">相关资源</h2> <ul> <li><a href="https://docs.docker.com/engine/installation/">官方文档 install docker</a></li> <li><a href="https://store.docker.com/editions/community/docker-ce-server-centos">server - centos</a></li> </ul> 1820 </div> --> <div class="row content"> <ul id="markdown-toc"> <li><a href="#安装" id="markdown-toc-安装">安装</a> <ul> <li><a href="#set-up-the-repository" id="markdown-toc-set-up-the-repository">SET UP THE REPOSITORY</a> <ul> <li><a href="#相关包" id="markdown-toc-相关包">相关包</a></li> <li><a href="#set-up-the-stable-repository" id="markdown-toc-set-up-the-stable-repository">set up the stable repository</a></li> </ul> </li> <li><a href="#install-docker-ce" id="markdown-toc-install-docker-ce">INSTALL DOCKER CE</a> <ul> <li><a href="#start-docker" id="markdown-toc-start-docker">Start Docker</a></li> <li><a href="#verify" id="markdown-toc-verify">Verify</a></li> </ul> </li> </ul> </li> <li><a href="#基本命令" id="markdown-toc-基本命令">基本命令</a> <ul> <li><a href="#命令过程" id="markdown-toc-命令过程">命令过程</a></li> </ul> </li> <li><a href="#uninstall-docker-ce" id="markdown-toc-uninstall-docker-ce">Uninstall Docker CE</a></li> <li><a href="#相关资源" id="markdown-toc-相关资源">相关资源</a></li> </ul> <h2 id="安装">安装</h2> <h3 id="set-up-the-repository">SET UP THE REPOSITORY</h3> <h4 id="相关包">相关包</h4> <p><code class="highlighter-rouge">yum-utils</code> provides the <code class="highlighter-rouge">yum-config-manager</code> utility, and <code class="highlighter-rouge">device-mapper-persistent-data</code> and <code class="highlighter-rouge">lvm2</code> are required by the <code class="highlighter-rouge">devicemapper</code> storage driver</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> yum-utils <span class="se">\</span>
  device-mapper-persistent-data <span class="se">\</span>
  lvm2</code></pre></figure> <h4 id="set-up-the-stable-repository">set up the stable repository</h4> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>yum-config-manager <span class="se">\</span>
    <span class="nt">--add-repo</span> <span class="se">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
    
<span class="nb">sudo </span>yum makecache fast

<span class="nb">sudo </span>yum-config-manager <span class="nt">--disable</span> docker-ce-edge</code></pre></figure> <blockquote> <p>官方文档，路径错误</p> </blockquote> <h3 id="install-docker-ce">INSTALL DOCKER CE</h3> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>yum <span class="nb">install </span>docker-ce</code></pre></figure> <p>On production systems, you should install a specific version of Docker CE instead of always using the latest.</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell">yum list docker-ce <span class="nt">--showduplicates</span> | <span class="nb">sort</span> <span class="nt">-r</span>

<span class="nb">sudo </span>yum <span class="nb">install</span> &lt;FULLY-QUALIFIED-PACKAGE-NAME&gt;</code></pre></figure> <h4 id="start-docker">Start Docker</h4> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>systemctl start docker
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker</code></pre></figure> <h4 id="verify">Verify</h4> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>docker run hello-world</code></pre></figure> <h2 id="基本命令">基本命令</h2> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>docker search centos <span class="c"># ubuntu, fedora</span>
<span class="nb">sudo </span>docker pull centos
<span class="nb">sudo </span>docker pull httpd
<span class="c"># check if docker images downloaded</span>
<span class="nb">sudo </span>docker images centos

<span class="c"># run docker</span>
<span class="nb">sudo </span>docker run <span class="nt">-i</span> <span class="nt">-t</span> centos /bin/bash
<span class="nb">sudo </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 80:80 httpd

<span class="c"># current running list</span>
<span class="nb">sudo </span>docker ps</code></pre></figure> <h3 id="命令过程">命令过程</h3> <figure class="highlight"><pre><code class="language-shell" data-lang="shell">docker run <span class="nt">-d</span> <span class="nt">-p</span> 80:80 httpd   </code></pre></figure> <p>其过程可以简单的描述为：</p> <ol> <li>从 Docker Hub 下载 httpd 镜像。镜像中已经安装好了 Apache HTTP Server。</li> <li>启动 httpd 容器，并将容器的 80 端口映射到 host 的 80 端口。</li> <li>下面我们可以通过浏览器验证容器是否正常工作。在浏览器中输入 http://[your ubuntu host IP]</li> </ol> <h2 id="uninstall-docker-ce">Uninstall Docker CE</h2> <p>Uninstall the Docker package</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>yum remove docker-ce</code></pre></figure> <p>Images, containers, volumes, or customized configuration files on your host are not automatically removed. To delete all images, containers, and volumes:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo rm</span> <span class="nt">-rf</span> /var/lib/docker</code></pre></figure> <h2 id="相关资源">相关资源</h2> <ul> <li><a href="https://docs.docker.com/engine/installation/">官方文档 install docker</a></li> <li><a href="https://store.docker.com/editions/community/docker-ce-server-centos">server - centos</a></li> </ul> <div class="col-sm-2 image pull-right"> <img class="avatar-img avata" style='border="0";border-radius: 50%' src="http://www.forbackup.tk/assets/img/author/blog.svg" alt="" height="32px" width="32px"> </div> </div> <ul class="pager"> <li><a href="/docker_col/2017/07/09/docker-learn-00.html">Docker系列 0</a></li> <li><a href="/docker_col/2017/07/09/docker-learn-02.html">Docker系列 2 架构详解</a></li> </ul> </article> </div> </div> </div> <div class="footer"> <div class="container-fluid"> <div class="row-fluid"> <div class="col-sm-4 copyright"> <span>Vicky's Blog © 2018 • All right reserved.</span> </div> <div class="col-sm-4 message"> <span>Simplicity is fashionable.</span> </div> <div class="col-sm-4 madeby"> <span>Made with&nbsp;<a href="https://jekyllrb.com" target="_blank">Jekyll</a>&nbsp;by&nbsp;Vicky.</span> </div> <a class="pull-right top" href="#top"><i class="fa fa-caret-up" aria-hidden="true"></i></a> </div> </div> </div> </div> <!-- Vendor - Global | Applicable to every website --> <!-- #### VENDOR OFFLINE #### --> <script src="http://www.forbackup.tk/assets/vendor-off/jquery/js/jquery.min.js"></script> <script src="http://www.forbackup.tk/assets/vendor-off/bootstrap/js/bootstrap.min.js"></script> <script defer src="http://www.forbackup.tk/assets/vendor-off/font-awesome/svg-with-js/js/fontawesome-all.min.js"></script> <script src="http://www.forbackup.tk/assets/javascripts/jekyll-spotify-plugin.min.js"></script> <!-- Specific for each pages. --> <script type="text/javascript" src="http://www.forbackup.tk/assets/javascripts/post.js"></script> <!-- Add 'ga' function from Google Analytics to certain site links in Posts --> <!-- App | Global --> <script src="http://www.forbackup.tk/assets/javascripts/global.js"></script> </body> </html>
